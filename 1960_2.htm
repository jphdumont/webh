<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> Add Web Service to Use Windows Azure </title>
<meta name="Generator" content="Author-it">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="Keywords" content="Add Web Service to Use Windows Azure, Web Service Settings">
<script type="text/javascript" src="dhtml_toc.js"></script>
<script type="text/javascript" src="open_parent.js"></script>
<STYLE type="text/css">
#Layer1 {
	position: absolute;
	left: 13px;
	top: 75px;
	z-index: 1;
	text-align:inherit;
	width: inherit;
}
#Layer2 {
	position: absolute;
	left: 13px;
	top: 200px;
	width: auto;
	height: auto;
	z-index: 2;
	vertical-align: bottom;
}
#Layer3 {
	position:absolute;
	left: 25px;
	top: 12px;
	width:45px;
	height: auto;
	margin-bottom:0px;
	z-index: 0;
}
#Layer4 {
	position:absolute;
	left: 100px;
	top: 12px;
	width:52px;
	height: auto;
	margin-bottom:0px;
	z-index: 0;
}
#Layer6 {
	position:absolute;
	top: 51px;
	width:43px;
	height: auto;
	margin-bottom:0px;
	right: 100px;
	z-index: 1;
}
#Layer10 {
	position:absolute;
	top: 51px;
	width:43px;
	height: auto;
	margin-bottom:0px;
	right: 25px;
	z-index: 1;
}
#Layer5 {
	position:absolute;
	left: 10px;
	top: 3px;
	width:207px;
	height: auto;
	margin-bottom:0px;
	z-index: 0;
}
#Layer9 {
	position:absolute;
	top: 0px;
	width:335px;
	height: auto;
	margin-bottom:0px;
	z-index: 0;
	right: 0px;
}
#Layer8 {
	position:absolute;
	left: 10px;
	top: 35px;
	width:100%;
	height: 10px;
	margin-bottom:15px;
	z-index: 2;
	background-color: #102E51;
}
#Layer11 {
	position:absolute;
	left: 13px;
	top: 50px;
	z-index: 1;
}
.footerbar {
	left: 15px;
	height: 14px;
	background-color: #102E51;
	width:100%;
}
.inthissection 
{
	font-family: Verdana, sans-serif;
	font-size: 9pt;
	color: #000000;
	margin-left: 0pt;
	text-align: left;
	text-indent: 0.75cm;
	width: 20cm;
	height: auto;
	white-space: normal;
	list-style-type: disc;
	list-style-position: outside;
	white-space:normal;
       }
.bodyseealso 
{display: block;
        font-family: verdana, arial, helvetica, sans-serif;
        font-size: 10pt;
        color: #000000;
        margin-top: 3pt;
        margin-bottom: 3pt;
        padding-top: 10pt;
        padding-bottom: 10pt;
        padding-left: 0pt;
        padding-right: 0pt;
		line-height:normal;
        float: left;
        clear: right;
        text-align: left;
        text-indent: 0cm;
        width: 6cm;
        height: auto;
        white-space: normal;
}   
th {vertical-align: bottom;
	text-align:center;
	font-size: 10pt;
}
.style1 {
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 10px;
	color: #FFFFFF;
}

.breadcrumbs /*StyleList*/ {font-size: 11pt; font-family:Arial, Helvetica, sans-serif; color: #999999;}
.breadcrumbs A:link {text-decoration: none; color: #999999;}
.breadcrumbs A:active {text-decoration: none; color: #999999;}
.breadcrumbs A:visited {text-decoration: none; color: #999999;}
.breadcrumbs A:hover {text-decoration: underline; color: #102E51;}

</style>
</head>
<link rel="stylesheet" href="stylesheet.css" type"text/css" />
<link rel="stylesheet" href="stylesheet3.css"  type="text/css" />
<link rel="stylesheet" href="printstylesheet.css" type"text/css" media="print" />

<base target="BODY">

<body onLoad="navBarSwitch();if (isTOCLoaded()) {expand('1136_2');expand('2255');highlight('1960_2')}" text="#000000" link="#000099" alink="#000099" vlink="#000099">
<div id="Layer3"><a class="navbarOff" onClick="loadParent()" target="TOC" title="Opera Online Help Home"><img src="contents_button.jpg"></a></div>
<div id="Layer4"><a class="navbarOff" onClick="loadSearch()" target="TOC" title="Search Opera Online Help"><img src="search_button.jpg"></a></div>
<div class="breadcrumbs" id="Layer11">
	<p class="breadcrumbs"><a class="breadcrumblink" href="myres_overview.htm">myRestaurant Overview</a><span class="breadcrumbdelimiter"> &gt; </span><a class="breadcrumblink" href="help_system_tools_2.htm">System Tools</a><span class="breadcrumbactive"><span class="breadcrumbdelimiter"> &gt; </span>Add Web Service to Use Windows Azure</span></p></div>
<div id="Layer6"><a onClick="emailPage()" target="_blank" class="navbarOn" title="Email Link to this Page"><img src="email_page_button.jpg" border="0"></a></div>
<div id="Layer10"><a onClick="feedBack()" target="_blank" class="navbarOn" title="Send Feedback on Topic"><img src="feedback_button.jpg" border="0"></a></div>
<!--<div id="Layer5"><a class="navbarOff" onClick="" target=""><img src="opera_9_darker_smaller.jpg"></a></div> -->
<div id="Layer9"><a class="navbarOff" onClick="" target=""><img src="opera_online_help_clouds_smaller_used.jpg"></a></div>
<div id="Layer8"></div>
<div id="Layer1"><h1 id="t1960" class="heading1">Add Web Service to Use Windows Azure</h1>
<p id="p593802" fragmentId="11714" class="bodytext">Windows Azure is an open and flexible cloud platform that enables you to quickly build, deploy, and manage applications across a global network of Microsoft-managed data centers.<strong class="specialbold"> </strong>This is intended to replace the HTTP Push support. The Windows Azure web service also facilitates the OPERA and webProposal Single Sign On feature.</p>
<h3 id="p593803" fragmentId="11487" class="heading3"><strong class="specialbold">Step 1. </strong>Install OWS-WS Gateway Version 5.1</h3>
<h4 id="p593804" fragmentId="11430" class="heading4">Required Pre- requisites:  </h4>
<ul class="listbullet2"><li id="p593805" fragmentId="11346" class="listbullet2">Windows 7 Service Pack 1 or Windows 2008 R2 Service Pack 1 or Windows 2008 SP2</li><li id="p593806" fragmentId="11347" class="listbullet2">.Net 4.0 (dotNet \dotNetFx40_Full_x86_x64.exe)</li><li id="p593807" fragmentId="11348" class="listbullet2">IIS 7</li><li id="p593808" fragmentId="11382" class="listbullet2">Windows Server App Fabric, select default options when installing.</li></ul><h4 id="p593809" fragmentId="11466" class="heading4">The pre-requisite files are in the OPERA wizard: </h4>
<ul class="listbullet2"><li id="p593810" fragmentId="11308" class="listbullet2">Opera\Tools\OS_SUPPORT\DOTNET\dotNetFx40_Full_x86_x64.exe</li><li id="p593811" fragmentId="11372" class="listbullet2">Opera\Tools\OS_SUPPORT\DOTNET\WindowsServerAppFabricSetup_x64_6.1.exe </li><li id="p593812" fragmentId="11310" class="listbullet2">Opera\Tools\OS_SUPPORT\DOTNET\WindowsServerAppFabricSetup_x86_6.1.exe</li></ul><h3 id="p593813" fragmentId="11383" class="heading3">To install:</h3>
<p id="p593814" fragmentId="11488" class="listcontinue">1. In OEDS Wizard there is a new feature &#8220;<strong class="specialbold">OWS-WS Gateway Version 5.1</strong>&#8221; select to install. </p>
<p id="p593815" fragmentId="98" class="listcontinue"><img id="f1964" src="azure_step_1.gif" class="microslinkedgraphictemplate" alt="" height="381" width="503" vspace="6" hspace="0" align="bottom" border="0"></p>
<p id="p593816" fragmentId="11489" class="bodytext">There is a new entry form under the configuration editor for OWS-WS Gateway Configuration.</p>
<p id="p593817" fragmentId="2693" class="listcontinue"> <img id="f1965" src="azure_step_2.gif" class="microslinkedgraphictemplate" alt="" height="382" width="506" vspace="6" hspace="0" align="bottom" border="0"></p>
<ul class="listbullet2"><li id="p593818" fragmentId="11722" class="listbullet2"><strong class="specialbold">OWS Base URL. </strong>Enter the protocol, server name, and the port (if non standard port is used).</li><li id="p593819" fragmentId="11490" class="listbullet2"><strong class="specialbold">OWS Gateway Base URL.</strong> Enter the protocol, server name, and the port (if non standard port is used).</li><li id="p593820" fragmentId="11491" class="listbullet2"><strong class="specialbold">Windows Azure Server Base URL.</strong> The base URL needs to be https://microstest.servicebus.windows.net and then the path /ows_ws/… <p id="p593821" fragmentId="11408" class="listnote"><strong class="specialbold">Note.</strong> This URL needs to be unique for each install.  </p>
</li></ul><p id="p593822" fragmentId="19374" class="listcontinue">For example: For a development site the URL could be: https://microstest.servicebus.windows.net/ows_ws/hcp_prod_chaincode_resortcode and for the test site the URL could be  https://microstest.servicebus.windows.net/ows_ws/hcp_test_chaincode_resortcode <br>Once you start the service the path will be created on <em class="emphasis">microstest.servicebus.windows.net</em>  site. </p>
<p id="p593823" fragmentId="11425" class="listnote"><strong class="specialbold">Note. </strong>The path is required to be in lower case, if you enter upper case it will be converted to lower case when saving the configuration data.</p>
<ul class="listbullet2"><li id="p593824" fragmentId="11454" class="listbullet2"><strong class="specialbold">Keep Alive Timeout. </strong>This is the number of minutes to keep the URL alive on https://microstest.servicebus.windows.net. This setting is the poll interval, 5 minutes is the default. </li><li id="p593825" fragmentId="11493" class="listbullet2"><strong class="specialbold">Log file size </strong>(MB) for OWS-WS Gateway.</li><li id="p593826" fragmentId="11440" class="listbullet2">After entering all the fields select &#8220;<strong class="specialbold">View Web service Settings for HCP</strong>&#8221; button.</li></ul><p id="p593827" fragmentId="11446" class="listcontinue">Make a note of these values. These are the Web Service Settings that need to be entered in <strong class="specialbold">Site Manager</strong>, under <strong class="specialbold">System Tools &gt; </strong><a id="h1962" class="" title="Web Service Settings" href="1029.htm" target="_self">Web Service Settings</a>.</p>
<p id="p593828" fragmentId="98" class="listcontinue"><img id="f1966" src="azure_step_3.gif" class="microslinkedgraphictemplate" alt="" height="477" width="321" vspace="6" hspace="0" align="bottom" border="0"></p>
<p id="p593829" fragmentId="1" class="listcontinue"></p>
<h3 id="p593830" fragmentId="11321" class="heading3">After the installation </h3>
<p id="p593831" fragmentId="11351" class="listcontinue">You should see a new service &#8220;<strong class="specialbold">Opera WCF Keep Alive Service</strong>&#8221;, start this service.  </p>
<ol class="listnumber2"><li id="p593832" fragmentId="11455" class="listnumber2">After the service is started you should see new URL at<em class="emphasis"> https://microstest.servicebus.windows.net</em>  (Normally, it takes 2 to 10 minutes for the URL to appear.)</li><li id="p593833" fragmentId="11448" class="listnumber2">Under<strong class="specialbold"> Web Server IIS 7 </strong>configuration you will see new web service <strong class="specialbold">OWS_WS_WCF_51 </strong></li><li id="p593834" fragmentId="11538" class="listnumber2">You can configure the Web Services to start automatically by selecting <strong class="specialbold">Configure… </strong>under &#8220;<strong class="specialbold">Manage WCF and WF Services</strong>&#8221; on your right side of the screen (see the example below).</li></ol><p id="p593835" fragmentId="98" class="listcontinue"><img id="f1967" src="azure_step_4.gif" class="microslinkedgraphictemplate" alt="" height="452" width="625" vspace="6" hspace="0" align="bottom" border="0"></p>
<h4 id="p593836" fragmentId="11437" class="heading4">Optional Steps </h4>
<p id="p593837" fragmentId="11724" class="note"><strong class="specialbold">Note. </strong>If you do not start the above service then follow these steps.</p>
<ol class="listnumber2"><li id="p593838" fragmentId="11726" class="listnumber2">After you select <strong class="specialbold">Configure…</strong> select<strong class="specialbold"> Auto-Start </strong>on the left navigation and then select the radio button &quot;<strong class="specialbold">Enabled </strong>(<strong class="specialbold">all service will auto-start</strong>)&quot;.</li><li id="p593839" fragmentId="11719" class="listnumber2">You will be prompted with a dialog box that states &quot;The application pool for this application/service needs to have the startMode set to AlwaysRunning in order for the application/service to successfully auto-start. Do you wish to set the application pool startMode when changes are applied? (You can also change this setting using the IIS Configuration Editor)&quot;. </li><li id="p593840" fragmentId="11356" class="listnumber2">Select &#8220;<strong class="specialbold">Yes</strong>&#8221; on the above dialog box and select &#8220;<strong class="specialbold">Apply</strong>&#8221; button.</li></ol><p id="p593841" fragmentId="98" class="listcontinue"><img id="f1969" src="azure_step_6.gif" class="microslinkedgraphictemplate" alt="" height="449" width="619" vspace="6" hspace="0" align="bottom" border="0"></p>
<ol class="listnumber2"><li id="p593842" fragmentId="11539" class="listnumber2">Then when prompted with the dialog box that appears &quot;All services in this application may recycle if you proceed with this change. Do you want to proceed?&quot; <br>Select &quot;<strong class="specialbold">Yes</strong>&quot;and &quot;<strong class="specialbold">Ok</strong>&quot;.</li></ol><p id="p593843" fragmentId="98" class="listcontinue"><img id="f1970" src="azure_step_7.gif" class="microslinkedgraphictemplate" alt="" height="466" width="622" vspace="6" hspace="0" align="bottom" border="0"></p>
<p id="p593844" fragmentId="11478" class="listcontinue">Now you are able to start testing using the new web services. Add the asmx file name to the URL entered under &#8220;Windows Azure Server Base URL&#8221; (for example: https://microstest.servicebus.windows.net/ows_ws/information.asmx) for testing using WSTest.exe.</p>
<p id="p593845" fragmentId="1" class="listcontinue"></p>
<h3 id="p593846" fragmentId="11358" class="heading3"><strong class="specialbold">Step 2.</strong> Install Web Proposal Gateway</h3>
<h3 id="p593847" fragmentId="11463" class="heading3">Required Pre-requisites  </h3>
<ul class="listbullet2"><li id="p593848" fragmentId="11472" class="listbullet2">.Net 4.0 - These pre-requisite files are in the OEDS wizard: (..\Installs\.Net 4.0\dotNetFx40_Full_x86_x64.exe).</li><li id="p593849" fragmentId="11416" class="listbullet2">Tested on Windows 2008, Windows 2003 and Windows 7 </li></ul><h3 id="p593850" fragmentId="11383" class="heading3">To install:</h3>
<ol class="listnumber2"><li id="p593851" fragmentId="11475" class="listnumber2">In the new OEDS install wizard under run Setup.exe to run a fresh install and upgrade the OEDS Web Proposal Gateway ( ...\Wizard_50\WebProposaGateway ).</li><li id="p593852" fragmentId="11403" class="listnumber2">Select <strong class="specialbold">Web Proposal Gateway</strong> to install:</li></ol><p id="p593853" fragmentId="98" class="listcontinue"><img id="f1975" src="azure_step_8.gif" class="microslinkedgraphictemplate" alt="" height="381" width="505" vspace="6" hspace="0" align="bottom" border="0"></p>
<ol class="listnumber2"><li id="p593854" fragmentId="11421" class="listnumber2">Under configuration editor for <strong class="specialbold">Web Proposal Gateway Configuration</strong>.</li></ol><p id="p593855" fragmentId="98" class="listcontinue"><img id="f1972" src="azure_step_9.gif" class="microslinkedgraphictemplate" alt="" height="382" width="508" vspace="6" hspace="0" align="bottom" border="0"></p>
<ol class="listnumber2"><li id="p593856" fragmentId="11469" class="listnumber2"><strong class="specialbold">OPERA App Server URL</strong>: Enter the protocol, server name, and the port (only if non-standard port is used).</li><li id="p593857" fragmentId="11727" class="listnumber2"><strong class="specialbold">Windows Azure Server Base URL</strong>, the base URL needs to be<em class="emphasis"> https://microstest.servicebus.windows.net  </em>and the path <em class="emphasis">/ows_ws/…</em> It is required to be a unique URL for each install.  So for example, the development environment URL could be <em class="emphasis">https://microstest.servicebus.windows.net/ows_ws/hcp_prod_chaincode_resortcode</em>  and the testing environment URL could be <em class="emphasis">https://microstest.servicebus.windows.net/ows_ws/hcp_test_chaincode_resortcode</em> </li></ol><p id="p593858" fragmentId="11728" class="listcontinue">Once you start the service the path is created on the (http://microstest.servicebus.windows.net ) site. </p>
<p id="p593859" fragmentId="11474" class="listnote"><strong class="specialbold">Note. </strong>For this path lower case is required, if you enter upper case it will be converted to lower case when saving the configuration data.</p>
<ol class="listnumber2"><li id="p593860" fragmentId="11366" class="listnumber2"><strong class="specialbold">Log files size</strong> for Web Proposal Gateway.</li><li id="p593861" fragmentId="11367" class="listnumber2"><strong class="specialbold">Log Level</strong> for Web Proposal Gateway.</li><li id="p593862" fragmentId="11451" class="listnumber2"><strong class="specialbold">Log Directory</strong> for Web Proposal Gateway.</li><li id="p593863" fragmentId="11482" class="listnumber2">After entering all the fields select &#8220;<strong class="specialbold">View URL Settings for HCP and Opera</strong>&#8221; button, and select <strong class="specialbold">Next</strong>. </li></ol><p id="p593864" fragmentId="11723" class="listcontinue">(enter screenshot)</p>
<p id="p593865" fragmentId="11520" class="listcontinue">To get the values select the &quot;<strong class="specialbold">View URL setting for HCP Opera</strong>&quot; button on <strong class="specialbold">Web Proposal Gateway Configuration</strong> under OEDS Configuration editor.</p>
<p id="p593866" fragmentId="11545" class="listcontinue"><em class="emphasis">Example Web Services Settings:</em></p>
<p id="p593867" fragmentId="98" class="listcontinue"><img id="f1973" src="azure_step_10.gif" class="microslinkedgraphictemplate" alt="" height="179" width="371" vspace="6" hspace="0" align="bottom" border="0"></p>
<h4 id="p593868" fragmentId="11546" class="heading4"><strong class="specialbold">Step 3. </strong>To Add the Web Service Settings to webProposal Site Manager</h4>
<p id="p593869" fragmentId="11531" class="listcontinue">To enter the web service settings in the<strong class="specialbold"> webProposal Site Manger, </strong>go to<strong class="specialbold"> Manage Properties </strong>and select either the <strong class="specialbold">Chain, Brand,</strong> or <strong class="specialbold">Property</strong> from the left navigation. Select<strong class="specialbold"> edit</strong> then the <strong class="specialbold">Settings </strong>tab.</p>
<p id="p593870" fragmentId="11522" class="listcontinue"><strong class="specialbold">See Also:</strong> The Settings topic in the webProposal help.</p>
<h4 id="p593871" fragmentId="11547" class="heading4"><strong class="specialbold">Step 4. </strong>To Add the Web Service Settings to webHotel Site Manager</h4>
<p id="p593872" fragmentId="11513" class="listcontinue">To add the new web service go to <strong class="specialbold">Site Manager</strong> &gt; <strong class="specialbold">System Tools</strong> and select <strong class="specialbold">Web Service Settings</strong> from the left navigation.</p>
<p id="p593873" fragmentId="11507" class="listcontinue"><strong class="specialbold">See Also: </strong><a id="h1962_2" class="" title="Web Service Settings" href="1029.htm" target="_self">Web Service Settings</a> in the webHotel Site Manager Help. </p>
<h4 id="p593874" fragmentId="11548" class="heading4"><strong class="specialbold">Step 5. </strong>To Add the Web Service Settings to OPERA</h4>
<p id="p593875" fragmentId="11543" class="listcontinue">The webProposal feature is available in OPERA Sales and Catering and PMS. For Web Service Configuration in OPERA go to configure the OPERA S&amp;C webProposal link under URL Setup. To access this in <strong class="specialbold">OPERA</strong> &gt; go to <strong class="specialbold">Configuration</strong> &gt; <strong class="specialbold">Setup</strong> &gt; <strong class="specialbold">Menu URL Setup</strong> and define the <strong class="specialbold">OPERA SSO (Single Sign On) URL</strong>. </p>
<p id="p593876" fragmentId="11549" class="listnote"><strong class="specialbold">Note. </strong>This will be available with OPERA version [ 5.0.04.00 ]. </p>
<p id="p593877" fragmentId="11541" class="listcontinue"><strong class="specialbold">See Also: </strong>The OPERA Help Topic: &quot;About OPERA Sales and Catering webProposal&quot; to learn how to add this to OPERA. </p>
<p id="p593878" fragmentId="1" class="listcontinue"></p>
<h3 id="p593879" fragmentId="87" class="heading3">See Also</h3>
<p id="p593880" fragmentId="11527" class="bodytext">(webHotel) <a id="h1962_3" class="" title="Web Service Settings" href="1029.htm" target="_self">Web Service Settings</a></p>
<p id="p593881" fragmentId="11528" class="bodytext">(webPropsal) Settings</p>
<p id="p593882" fragmentId="11529" class="bodytext">OPERA Help Topic: &quot;About OPERA Sales and Catering webProposal&quot; </p>

<br><br><div class="footerbar"><p class="style5 style1">© 2014 MICROS Systems, Inc. All rights reserved.</div>
</div>
<div id="Layer2"><!-- Insert Your Footer Here --></div>

</body>
</html>
