<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> Adding Analytics to Track Guest Membership Information for in Room Dining </title>
<meta name="Generator" content="Author-it">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="Keywords" content="Adding Analytics to Track Guest Membership Information for in Room Dining">
<script type="text/javascript" src="dhtml_toc.js"></script>
<script type="text/javascript" src="open_parent.js"></script>
<STYLE type="text/css">
#Layer1 {
	position: absolute;
	left: 13px;
	top: 75px;
	z-index: 1;
	text-align:inherit;
	width: inherit;
}
#Layer2 {
	position: absolute;
	left: 13px;
	top: 200px;
	width: auto;
	height: auto;
	z-index: 2;
	vertical-align: bottom;
}
#Layer3 {
	position:absolute;
	left: 25px;
	top: 12px;
	width:45px;
	height: auto;
	margin-bottom:0px;
	z-index: 0;
}
#Layer4 {
	position:absolute;
	left: 100px;
	top: 12px;
	width:52px;
	height: auto;
	margin-bottom:0px;
	z-index: 0;
}
#Layer6 {
	position:absolute;
	top: 51px;
	width:43px;
	height: auto;
	margin-bottom:0px;
	right: 100px;
	z-index: 1;
}
#Layer10 {
	position:absolute;
	top: 51px;
	width:43px;
	height: auto;
	margin-bottom:0px;
	right: 25px;
	z-index: 1;
}
#Layer5 {
	position:absolute;
	left: 10px;
	top: 3px;
	width:207px;
	height: auto;
	margin-bottom:0px;
	z-index: 0;
}
#Layer9 {
	position:absolute;
	top: 0px;
	width:335px;
	height: auto;
	margin-bottom:0px;
	z-index: 0;
	right: 0px;
}
#Layer8 {
	position:absolute;
	left: 10px;
	top: 35px;
	width:100%;
	height: 10px;
	margin-bottom:15px;
	z-index: 2;
	background-color: #102E51;
}
#Layer11 {
	position:absolute;
	left: 13px;
	top: 50px;
	z-index: 1;
}
.footerbar {
	left: 15px;
	height: 14px;
	background-color: #102E51;
	width:100%;
}
.inthissection 
{
	font-family: Verdana, sans-serif;
	font-size: 9pt;
	color: #000000;
	margin-left: 0pt;
	text-align: left;
	text-indent: 0.75cm;
	width: 20cm;
	height: auto;
	white-space: normal;
	list-style-type: disc;
	list-style-position: outside;
	white-space:normal;
       }
.bodyseealso 
{display: block;
        font-family: verdana, arial, helvetica, sans-serif;
        font-size: 10pt;
        color: #000000;
        margin-top: 3pt;
        margin-bottom: 3pt;
        padding-top: 10pt;
        padding-bottom: 10pt;
        padding-left: 0pt;
        padding-right: 0pt;
		line-height:normal;
        float: left;
        clear: right;
        text-align: left;
        text-indent: 0cm;
        width: 6cm;
        height: auto;
        white-space: normal;
}   
th {vertical-align: bottom;
	text-align:center;
	font-size: 10pt;
}
.style1 {
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 10px;
	color: #FFFFFF;
}

.breadcrumbs /*StyleList*/ {font-size: 11pt; font-family:Arial, Helvetica, sans-serif; color: #999999;}
.breadcrumbs A:link {text-decoration: none; color: #999999;}
.breadcrumbs A:active {text-decoration: none; color: #999999;}
.breadcrumbs A:visited {text-decoration: none; color: #999999;}
.breadcrumbs A:hover {text-decoration: underline; color: #102E51;}

</style>
<script language="javascript" type="text/javascript" src="dhtml_popup.js"></script>
</head>
<link rel="stylesheet" href="stylesheet.css" type"text/css" />
<link rel="stylesheet" href="stylesheet3.css"  type="text/css" />
<link rel="stylesheet" href="printstylesheet.css" type"text/css" media="print" />

<base target="BODY">

<body onLoad="navBarSwitch();if (isTOCLoaded()) {expand('1421_1');expand('1420');expand('1428');expand('2476');expand('1303');highlight('3409')}" text="#000000" link="#000099" alink="#000099" vlink="#000099">
<div id="Layer3"><a class="navbarOff" onClick="loadParent()" target="TOC" title="Opera Online Help Home"><img src="contents_button.jpg"></a></div>
<div id="Layer4"><a class="navbarOff" onClick="loadSearch()" target="TOC" title="Search Opera Online Help"><img src="search_button.jpg"></a></div>
<div class="breadcrumbs" id="Layer11">
	<p class="breadcrumbs"><a class="breadcrumblink" href="mobile_overview.htm">Mobile Overview</a><span class="breadcrumbdelimiter"> &gt; </span><a class="breadcrumblink" href="2476.htm">Using Site Manager</a><span class="breadcrumbdelimiter"> &gt; </span><a class="breadcrumblink" href="mystaymanager_site_settings.htm">Site Settings</a><span class="breadcrumbdelimiter"> &gt; </span><a class="breadcrumblink" href="myStayManager_manage_mobile_site.htm">Manage Site</a><span class="breadcrumbdelimiter"> &gt; </span><a class="breadcrumblink" href="myStayManager_back_end_1.htm">Backend Settings (Mobile Sites)</a><span class="breadcrumbactive"><span class="breadcrumbdelimiter"> &gt; </span>Adding Analytics to Track Guest Membership Information for in Room Dining</span></p></div>
<div id="Layer6"><a onClick="emailPage()" target="_blank" class="navbarOn" title="Email Link to this Page"><img src="email_page_button.jpg" border="0"></a></div>
<div id="Layer10"><a onClick="feedBack()" target="_blank" class="navbarOn" title="Send Feedback on Topic"><img src="feedback_button.jpg" border="0"></a></div>
<!--<div id="Layer5"><a class="navbarOff" onClick="" target=""><img src="opera_9_darker_smaller.jpg"></a></div> -->
<div id="Layer9"><a class="navbarOff" onClick="" target=""><img src="opera_online_help_clouds_smaller_used.jpg"></a></div>
<div id="Layer8"></div>
<div id="Layer1"><h1 id="t3409" class="heading1">Adding Analytics to Track Guest Membership Information for in Room Dining</h1>
<p id="p677207" fragmentId="22262" class="bodytext">Add analytics to track Guest Membership information for In Room Dining (Room Service) in Mobile using any preferred analytics provider. </p>
<p id="p677208" fragmentId="22369" class="listcontinue2"><strong class="specialbold">Step 1:</strong> Add the Analytics Code tracking for Guest Membership information</p>
<p id="p677209" fragmentId="22370" class="listcontinue2"><strong class="specialbold">Step 2:</strong> Add Analytics Script to the Relevant pages to track in Room Dining and Guest Membership information</p>
<p id="p677210" fragmentId="22371" class="listcontinue2"><strong class="specialbold">Step 3:</strong> Confirm the component value is rendered (activated) for the page</p>
<p id="p677211" fragmentId="22387" class="listcontinue2"><strong class="specialbold">Step 4:</strong> Lookup a valid Guest Membership in OPERA</p>
<p id="p677212" fragmentId="22388" class="listcontinue2"><strong class="specialbold">Step 5:</strong> Verify in the Browser</p>
<p id="p677213" fragmentId="22263" class="bodytext">When a member retrieves their booking on the mobile site, the membership data is stored in a cookie using these variables:</p>
<ul class="listbullet3"><li id="p677214" fragmentId="22600" class="listbullet3">membershipType - Variable for membership type</li><li id="p677215" fragmentId="22235" class="listbullet3">membershipLevel - Variable for membership level</li><li id="p677216" fragmentId="22236" class="listbullet3">membershipNo - Variable for membership number </li><li id="p677217" fragmentId="22237" class="listbullet3">restaurantExtCode - The Restaurant code is now stored as a dynamic variable on all In Room Dining pages </li></ul><h4 id="p677218" fragmentId="22369" class="heading4">Step 1: Add the Analytics Code tracking for Guest Membership information</h4>
<ol class="listnumber2"><li id="p677219" fragmentId="22256" class="listnumber2">In <strong class="specialbold">Site Manager</strong> go to the site's <strong class="specialbold">Back end Settings</strong> and select the <strong class="specialbold">Analytics</strong> tab.</li><li id="p677220" fragmentId="22342" class="listnumber2">Select the  <strong class="specialbold">/tmpl/msm/resv/reservationDetails.xhtml </strong>page from the <strong class="specialbold">Select a Page Type</strong> drop down list.</li><li id="p677221" fragmentId="22344" class="listnumber2">Add the syntax for tracking Guest membership to the Google Analytics code snippet:<p id="p677222" fragmentId="22345" class="listcontinue2">var membershipNo = &quot;%membershipNo%&quot; </p>
<p id="p677223" fragmentId="22346" class="listcontinue2">var membershipLevel = &quot;%membershipLevel%&quot; </p>
<p id="p677224" fragmentId="22347" class="listcontinue2">var membershipType = &quot;%membershipType%&quot; </p>
</li></ol><p id="p677225" fragmentId="98" class="bodytext"><img id="f3410" src="analytics_membership.png" class="microslinkedgraphictemplate" alt="" height="375" width="967" vspace="6" hspace="0" align="bottom" border="0"></p>
<h4 id="p677226" fragmentId="22370" class="heading4">Step 2: Add Analytics Script to the Relevant pages to track in Room Dining and Guest Membership information</h4>
<ol class="listnumber2"><li id="p677227" fragmentId="22349" class="listnumber2">Go to the <strong class="specialbold">Content</strong> tab and select <strong class="specialbold">Sections &amp; Pages</strong> </li></ol><ul class="listbullet3"><li id="p677228" fragmentId="22331" class="listbullet3">roomserviceOrdertime.xhtml </li><li id="p677229" fragmentId="22332" class="listbullet3">roomserviceMenu.xhtml</li><li id="p677230" fragmentId="22333" class="listbullet3">roomserviceMenuItem.xhtml </li><li id="p677231" fragmentId="22334" class="listbullet3">roomserviceCart.xhtml<ol class="listnumber2"><li id="p677232" fragmentId="22374" class="listnumber2">On each of these pages, on the <strong class="specialbold">HTML tab</strong> add this analytics script to track the membership information. <p id="p677233" fragmentId="22382" class="listcontinue2"><a id="h3430" class="expandinginlinetemplate" title="Copy and Paste Analytics Code Example" href="javascript:toggleInline('3430')" target="_self">Copy and Paste Analytics Code Example</a><span id="d3430" class="expandinginline" style="display:none"> &lt;script&gt; </span></p>
<p id="p677234" fragmentId="98" class="listcontinue2"><img id="f3422" src="analytics_script.jpg" class="microslinkedgraphictemplate" alt="" height="134" width="796" vspace="6" hspace="0" align="bottom" border="0"></p>
</li></ol></li></ul><h3 id="p677235" fragmentId="22373" class="heading3">Step 3: Confirm the component value is rendered (activated) for the page </h3>
<ol class="listnumber2"><li id="p677236" fragmentId="22357" class="listnumber2">In <strong class="specialbold">Site Manager</strong> go to the <strong class="specialbold">Content </strong>tab &gt; and select the site &gt; go to<strong class="specialbold"> Page &amp; Sections</strong>  &gt; select the  <strong class="specialbold">reservationDetails.xhtml </strong>page select edit next to the <strong class="specialbold">Component Configuration</strong>.</li><li id="p677237" fragmentId="22356" class="listnumber2">Check the <strong class="specialbold">Render</strong> value of <strong class="specialbold">msm.reservationdetails.roomservicestatus </strong>set the render value to <strong class="specialbold">True</strong> to see the analytics on the page. <strong class="specialbold">Note. </strong>If the render value is set to false then the room service status does not show up by the room number on<strong class="specialbold"> reservationDetails.xhtml</strong> page.  <br><p id="p677238" fragmentId="98" class="listcontinue2"><img id="f3423" src="mobile_components_room_service_status.jpg" class="microslinkedgraphictemplate" alt="" height="593" width="1550" vspace="6" hspace="0" align="bottom" border="0"></p>
<p id="p677239" fragmentId="1" class="listcontinue2"></p>
<p id="p677240" fragmentId="98" class="listcontinue2"><img id="f3424" src="3424.png" alt="" height="628" width="1546" vspace="0" hspace="0" align="bottom" border="0"></p>
</li></ol><h2 id="p677241" fragmentId="22372" class="heading2">Step 4: To confirm the corresponding Guest Membership Information in OPERA</h2>
<p id="p677242" fragmentId="22254" class="bodytext">To setup the analytics log into OPERA and select to create a Guest with a Membership (AAA, Ritz Carlton Gold, etc) the membership number.</p>
<h4 id="p677243" fragmentId="22359" class="heading4">Step 1: Look up the reservation by the confirmation number</h4>
<p id="p677244" fragmentId="98" class="listcontinue"><img id="f3425" src="reservation_details_opera.jpg" class="microslinkedgraphictemplate" alt="" height="305" width="837" vspace="6" hspace="0" align="bottom" border="0"></p>
<h4 id="p677245" fragmentId="22360" class="heading4">Step 2: Enter the last name and select Options</h4>
<p id="p677246" fragmentId="98" class="listcontinue"><img id="f3426" src="analytics_opera_options.jpg" class="microslinkedgraphictemplate" alt="" height="532" width="786" vspace="6" hspace="0" align="bottom" border="0"></p>
<h3 id="p677247" fragmentId="22365" class="heading3">Step 3: Search Profile in OPERA, select Membership to access the Guest membership details. </h3>
<p id="p677248" fragmentId="98" class="listcontinue2"><img id="f3427" src="opera_membership.jpg" class="microslinkedgraphictemplate" alt="" height="515" width="781" vspace="6" hspace="0" align="bottom" border="0"></p>
<h3 id="p677249" fragmentId="22383" class="heading3">In OPERA Guest Membership Information</h3>
<p id="p677250" fragmentId="98" class="listcontinue2"><img id="f3428" src="opera_guest_membership.jpg" class="microslinkedgraphictemplate" alt="" height="145" width="701" vspace="6" hspace="0" align="bottom" border="0"></p>
<h3 id="p677251" fragmentId="22366" class="heading3">Step 4: Compare this to what is tracked in the analytics.</h3>
<p id="p677252" fragmentId="22384" class="bold">Go to a browser with the inspect element feature.</p>
<ol class="listnumber2"><li id="p677253" fragmentId="22389" class="listnumber2">To test if the Analytics is working in the Browser, access the <strong class="specialbold">reservationDetails.xhtml</strong> page for the site in a browser with the inspect element feature.</li><li id="p677254" fragmentId="22390" class="listnumber2">Right click to inspect element and type restaurantExtCode on console of Browser.</li><li id="p677255" fragmentId="22391" class="listnumber2">If the analytics is working the values in OPERA display.<p id="p677256" fragmentId="98" class="listcontinue2"><img id="f3431" src="browser_console.jpg" class="microslinkedgraphictemplate" alt="" height="223" width="633" vspace="6" hspace="0" align="bottom" border="0"></p>
</li></ol><h1 id="p677257" fragmentId="87" class="heading1">See Also</h1>
<p id="p677258" fragmentId="22285" class="bodytext"><a id="h2358" class="" title="Add Analytics Tracking Code to the Site" href="analytics_487_webhotel_site_manager.htm" target="_self">Adding Analytics</a></p>
<p id="p677259" fragmentId="1" class="bodytext"></p>

<br><br><div class="footerbar"><p class="style5 style1">© 2014 MICROS Systems, Inc. All rights reserved.</div>
</div>
<div id="Layer2"><!-- Insert Your Footer Here --></div>

</body>
</html>
